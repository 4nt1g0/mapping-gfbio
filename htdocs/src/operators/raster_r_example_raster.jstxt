# TODO: check if mapping.rastercount >= 1
# Load the first raster (yes, we're indexing starting at 0)
raster = mapping.loadRaster(0, mapping.qrect);
# remember the old min and max values.
oldmin = raster@data@min;
oldmax = raster@data@max;
# invert all values
raster[] = -raster[];
# manually set the correct min and max values.
raster@data@min = -oldmax;
raster@data@max = -oldmin;
# return the new raster
raster;